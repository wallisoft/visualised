<StackPanel Orientation="Horizontal" Spacing="2">
    <Label Name="fakeBox"
           Width="120"
           MinHeight="15"
           FontSize="11"
           FontWeight="Bold"
           Padding="4,2,4,2"
           Background="White"
           BorderBrush="#66bb6a"
           BorderThickness="1"
           CornerRadius="2"
           HorizontalContentAlignment="Left"
           VerticalContentAlignment="Center">
        
        @Script Parent=fakeBox Type=PointerPressed
        var parent = fakeBox.Parent as Panel;
        if (parent == null) return;
        
        var realBox = new TextBox 
        { 
            Text = fakeBox.Content?.ToString() ?? "",
            Width = 120,
            MinHeight = 15
        };
        
        realBox.LostFocus += (s2, e2) => {
            fakeBox.Content = realBox.Text;
            // TODO: Raise PropertyChanged event
            var idx = parent.Children.IndexOf(realBox);
            parent.Children.RemoveAt(idx);
            parent.Children.Insert(idx, fakeBox);
        };
        
        var index = parent.Children.IndexOf(fakeBox);
        parent.Children.RemoveAt(index);
        parent.Children.Insert(index, realBox);
        realBox.Focus();
        @EndScript
    </Label>
</StackPanel>
